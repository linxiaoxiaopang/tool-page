(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f2c46b8","chunk-2d0cc7d8"],{"4dc5":function(e,t,n){"use strict";n.r(t),n.d(t,"list",(function(){return a})),n.d(t,"tableOption",(function(){return r}));var a={type:"normal",column:[{label:"紧急",value:"urgency",resetMergeData:{urgencyType:1}},{label:"普通",value:"common",resetMergeData:{purchaseStockType:0}},{label:"定制品",value:"custom",resetMergeData:{isCustomGoods:!0}}]},r={searchBtn:!0,selection:!0,pageSizes:[2],selectable:function(e){return 0===e.$index},column:[{label:"授权码",prop:"accessToken",search:!0,hide:!0},{label:"订单号",prop:"subPurchaseOrderSn"},{label:"SKU信息",prop:"sku"},{label:"产品数量",prop:"purchaseQuantity"}]}},"4ec9":function(e,t,n){"use strict";var a=n("6d61"),r=n("6566");a("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"5db7":function(e,t,n){"use strict";var a=n("23e7"),r=n("a2bf6"),i=n("59ed"),o=n("7b0b"),c=n("07fa"),u=n("65f0");a({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),a=c(n);return i(e),t=u(n,0),t.length=r(t,n,n,a,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"73d9":function(e,t,n){var a=n("44d2");a("flatMap")},a2bf6:function(e,t,n){"use strict";var a=n("da84"),r=n("e8b5"),i=n("07fa"),o=n("0366"),c=a.TypeError,u=function(e,t,n,a,s,l,p,d){var f,b,h=s,v=0,O=!!p&&o(p,d);while(v<a){if(v in n){if(f=O?O(n[v],v,t):n[v],l>0&&r(f))b=i(f),h=u(e,t,f,b,h,l-1)-1;else{if(h>=9007199254740991)throw c("Exceed the acceptable array length");e[h]=f}h++}v++}return h};e.exports=u},c593:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-container"},[n("baseTable",{attrs:{data:e.data,list:e.list,option:e.tableOption,checkAll:"",isHandleRealData:"",handlePageData:e.tabOption.handleTableData,spanMethod:e.tabOption.spanMethod},on:{"search-change":e.searchChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"menuLeft",fn:function(){return[n("exportOrder",{attrs:{data:e.skuData}})]},proxy:!0},{key:"sku",fn:function(t){var a=t.row;return[n("div",{staticClass:"flex"},[n("baseImage",{attrs:{src:e.$GET(a,"thumbUrlList.0")}}),n("div",{staticClass:"ml10"},[n("div",[e._v("尺码名称："+e._s(a.className))]),n("div",[e._v("SKU ID："+e._s(a.productSkuId))]),n("div",[e._v("SKU 货号："+e._s(a.extCode))])])],1)]}}])})],1)},r=[],i=n("1da1"),o=(n("96cf"),n("d3b7"),n("159b"),n("99af"),n("1a80")),c=n("028f"),u=Object(c["c"])({orderListByToken:"/common/openService/temu/purchaseorderv2/get"}),s=u,l=n("4dc5"),p=n("7875"),d=n("b85c"),f=n("d4ec"),b=n("bee2"),h=n("ade3"),v=(n("d81d"),n("ac1f"),n("00b4"),n("caad"),n("2532"),n("4de4"),n("5319"),n("5db7"),n("73d9"),n("b0c0"),n("2ef0")),O=n("2909"),g=n("0d21"),j=n("db90"),m=n("06c5"),y=n("3d8c");function x(e){return Object(g["a"])(e)||Object(j["a"])(e)||Object(m["a"])(e)||Object(y["a"])()}var w=n("3835"),T=(n("4fad"),n("fb6a"),n("4ec9"),n("3ca3"),n("ddb0"),n("2ba3")),D=function(){function e(){Object(f["a"])(this,e)}return Object(b["a"])(e,null,[{key:"format",value:function(t,n,a){return Object(v["isArray"])(t)?e.formatArray(t):Object(T["e"])(t)?{}:(n=e.normalizeMap(n,a),e.handler(t,n))}},{key:"formatArray",value:function(t,n,a){return Object(T["e"])(t)?[]:[].concat(t).map((function(t){return t&&e.format(t,n,a)}))}},{key:"handler",value:function(t,n){var a,r={},i=Object(d["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=Object(w["a"])(a.value,2),c=o[0],u=o[1];c=$(c,t,r),u=e.result(u,t,r),k(c)&&!Object(v["isUndefined"])(u)&&Object(v["set"])(r,c,u)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"result",value:function(e,t,n){return Object(v["isFunction"])(e)?e(t,n):Object(v["get"])(t,e)}},{key:"normalizeMap",value:function(e,t){if(Object(v["isPlainObject"])(e))e=Object.entries(e);else if(Object(T["e"])(e))return[];return e=e.map((function(e){var t=x(e),n=t[0],a=t[1],r=t.slice(2);return[n,null!==a&&void 0!==a?a:n].concat(Object(O["a"])(r))})),t?e.map((function(e){var t=x(e),n=t[0],a=t[1],r=t.slice(2);return[a,n].concat(Object(O["a"])(r))})):e}},{key:"normalizeMulMap",value:function(t,n,a){var r,i=e.normalizeMap(t),o=e.normalizeMap(n),c=new Map(i),u=new Map(o),s=[],l=Object(d["a"])(c);try{for(l.s();!(r=l.n()).done;){var p=Object(w["a"])(r.value,2),f=p[0],b=p[1];s.push([b,u.get(f)])}}catch(h){l.e(h)}finally{l.f()}return e.normalizeMap(s,a)}}]),e}();function k(e){return Object(v["isString"])(e)||Object(v["isArray"])(e)}function $(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"===typeof e&&(e=e.apply(void 0,n)),e}var M={fns:[],param:"first",validate:function(e){return!Object(v["isUndefined"])(e)}},S=Object(b["a"])((function e(t){var n=this;Object(f["a"])(this,e),Object(h["a"])(this,"result",(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=n.option,i=r.param,o=r.fns,c=r.validate;if("last"===i){var u=c;c=function(e){return t=[e],u(e)}}var s,l=Object(d["a"])(o);try{for(l.s();!(s=l.n()).done;){var p=s.value,f=p.apply(void 0,Object(O["a"])(t));if(c(f))return f}}catch(b){l.e(b)}finally{l.f()}})),this.option=Object(v["merge"])({},M,t)})),P=n("6489"),C=n("ed08"),R={type:"tree",spanProps:[],rowspanMap:{},isTitle:!0,isExpanded:!1,expandRow:0,expandOn:"收起以上{length}项产品信息",expandOff:"展开剩余{length}项产品信息"},A=function(){function e(t){var n=this;Object(f["a"])(this,e),Object(h["a"])(this,"getTabOption",(function(){var e={tree:function(){return{handleTableData:n.flatMapDeep,spanMethod:n.createSpan(["titleSpan","createChildrenSpan"])}}}[n.option.type],t=e();return n.option.isExpanded&&Object(v["merge"])(t,n.treeTable),t.wrappedHandleTableData&&(t.handleTableData=t.wrappedHandleTableData(t.handleTableData)),n.tabOption=t})),Object(h["a"])(this,"getColumns",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n._columns;return n.shortTerm((function(){return t(e)||[]}));function t(e){if(e)return t(e);function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(d["a"])(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.children?t(i.children,a):a.push(i)}}catch(o){r.e(o)}finally{r.f()}return a}}})),Object(h["a"])(this,"indexes",{}),Object(h["a"])(this,"getIndex",(function(e){return I(n.indexes[e],(function(){return n.indexes[e]=Object(v["findIndex"])(n.columns,{property:e})}))})),Object(h["a"])(this,"getFirstDefaultIndex",(function(){return I(n.indexes._firstDefaultIndex,(function(){return n.indexes._firstDefaultIndex=Object(v["findIndex"])(n.columns,{type:"default"})}))})),Object(h["a"])(this,"getLength",(function(e,t){return n.getIndex(t)-n.getIndex(e)+1})),Object(h["a"])(this,"getRestLengthByProp",(function(e){return n.columns.length-n.getIndex(e)})),Object(h["a"])(this,"getRestLength",(function(e){return n.columns.length-e})),Object(h["a"])(this,"flatMapDeep",(function(t){var a=n.normalizedFlatMap;if(null===a||void 0===a||!a.length)return[];var r=Object(v["isArray"])(t)?t:[t];return Object(v["flatMapDeep"])(r,(function(t){var n=[t];return a.map((function(r,o){var c=r.path,u=r.emptyPath,s=r.handler,l=r.parentHandler,p=r.parentProp,d=r.fillProps,f=r.isRow,b=void 0===f||f;return n=Object(v["flatMapDeep"])(n,(function(r,f){r.$top=t;var h=i(r,c);if(Object(T["e"])(h)&&u&&(h=i(r,u)),r.$children=h,Object(T["e"])(h))return[];var v=h.length-1;return h.forEach((function(n,i){n.$top=r.$top,n.$isRow=b,n!==t&&(n.$index=i,n.$isLast=i===v),n.$parent=n["$".concat(p)]=r;for(var c=o-1;c>=0;c--){var u=a[c].parentProp;u="$".concat(u),n[u]=r[u]}d&&e.fillProps(n,r,d),e.invoke(s,n,i,h)})),e.invoke(l,r,f,n,h),h})),b?n:[]}))}));function i(t,n){return"current"===n?[t]:"isTitle"===n?(t.$isTitle=!0,[t]):(a=Object(v["isFunction"])(n)?n(t):Object(v["get"])(t,n,[]),e.toArray(a));var a}})),Object(h["a"])(this,"normalizeFlatMap",(function(e){return e.map((function(e,t){var n={parentProp:"parent".concat(t)};return Object(v["isString"])(e)?n.path=e:Object(v["isArray"])(e)?(n.path=e[0],Object(v["isString"])(e[1])&&(n.parentProp=e[1])):Object(v["isPlainObject"])(e)&&Object.assign(n,e),n}))})),Object(h["a"])(this,"createSpan",(function(e){var t=e.map((function(e){return/^create/.test(e)?n[e]():n[e]})),a=new S({fns:t});return function(e,t){return n.initSpan(e,t),a.result(e,t)}})),Object(h["a"])(this,"initSpan",(function(e,t){n.crud=t,n.table=t.$refs.table||{},n._columns=n.table.store.states._columns})),Object(h["a"])(this,"titleSpan",(function(e){var t=e.row,a=e.columnIndex;if(t.$isTitle){var r=n.getFirstDefaultIndex();if(a<r)return[1,1];var i=n.option.titleEnd;if(i){var o=n.getIndex(i);return a===r?[1,o-r]:a>=o?[1,1]:[0,0]}return a===r?[1,n.getRestLength(r)]:[0,0]}})),Object(h["a"])(this,"createChildrenSpan",(function(){var e=function(e){return n.mergeSpan(n.childrenRowspan(e),n.childrenColspan(e))};return n.option.isExpanded&&(e=function(e){return n.mergeSpan(n.expandChildrenRowspan(e),n.childrenColspan(e))}),n.option.isTitle||(e=function(e){return n.mergeSpan(n.childrenRowspan(e))}),function(t){if(!t.row.$isTitle)return e(t)}})),Object(h["a"])(this,"childrenRowspan",(function(e){var t=e.row,a=e.column,r=n.rowspanMap[a.property];if(n.option.spanProps.includes(a.property)||r){var i=n.getParentChildren(t,r),o=Object(v["findIndex"])(i,t);if(o<0)return;return 0===o?{rowspan:i.length}:[0,0]}})),Object(h["a"])(this,"expandChildrenRowspan",(function(e){var t=n.childrenRowspan(e);return n.getTop(e.row).$expanded||(t=n.mergeSpan(t),t[0]=Math.min(t[0],n.option.expandRow)),t})),Object(h["a"])(this,"childrenColspan",(function(e){var t=e.columnIndex,a=n.getFirstDefaultIndex();return t===a?{colspan:a+1}:t<a?[0,0]:void 0})),Object(h["a"])(this,"mergeSpan",(function(){for(var e,t,a={},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var c=0,u=i;c<u.length;c++){var s=u[c];if(s){var l=n.handleSpan(s);Object(v["merge"])(a,l)}}return[null!==(e=a.rowspan)&&void 0!==e?e:1,null!==(t=a.colspan)&&void 0!==t?t:1]})),Object(h["a"])(this,"handleSpan",(function(e){return Object(v["isArray"])(e)?{rowspan:e[0],colspan:e[1]}:e})),Object(h["a"])(this,"wrapHandleTableData",(function(e){return function(t){return function(n){var a=t(n);return e(n,a),a}}})),Object(h["a"])(this,"treeTable",{mergeOption:{filterable:function(e){return e.filter((function(e){return"none"!==n.treeTable.rowClassName({row:e})}))}},rowClassName:function(e){var t=e.row;if(!t.$isTitle&&!n.getTop(t).$expanded&&t.$index>n.option.expandRow-1)return"none"},showExpandBtn:function(e,t){var a=n.getParentChildren(e).length>n.option.expandRow;return!!a&&(!!t||(n.getTop(e).$expanded?e.$isLast:e.$index===n.option.expandRow-1))},expandClick:function(e){n.crud.$nextTick((function(){n.crud.getFilterData(),setTimeout((function(){return n.crud.doLayout()}))}));var t=n.getTop(e);return t.$expanded=!t.$expanded},expandBtnTxt:function(e){var t=n.getTop(e).$expanded?n.option.expandOn:n.option.expandOff;return t.replace("{length}",n.getParentChildren(e).length-n.option.expandRow)},wrappedHandleTableData:this.wrapHandleTableData((function(e){var t,n=Object(d["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.$expanded=!1}}catch(r){n.e(r)}finally{n.f()}})),selectable:function(e){return e.$isTitle}}),Object(h["a"])(this,"getTop",(function(e){return e.$top||{}})),Object(h["a"])(this,"getParentChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"parent";return Object(v["flatMapDeep"])(Object(v["get"])(e,"$".concat(t,".$children"),[]),(function(e){return e.$isRow?e:Object(v["chain"])(e.$children).flatMapDeep((function(e){return n.getParentChildren(e)})).uniq().value()}))})),Object(h["a"])(this,"shortTermData",{}),this.option=Object(v["merge"])({},R,t||{}),this.option.isExpanded=Object(P["w"])(null===t||void 0===t?void 0:t.isExpanded,this.option.expandRow>0);var a=this.option.flatMap;this.normalizedFlatMap=this.normalizeFlatMap(a),this.getTabOption(),Object(C["P"])(this,{rowspanMap:function(){var e={},t=n.option.rowspanMap;for(var a in t){var r,i=t[a],o=Object(d["a"])(i);try{for(o.s();!(r=o.n()).done;){var c=r.value;e[c]=a}}catch(u){o.e(u)}finally{o.f()}}return e}})}return Object(b["a"])(e,[{key:"columns",get:function(){return this.getColumns()}},{key:"shortTerm",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name;return I(this.shortTermData[n],(function(){return setTimeout((function(){delete t.shortTermData[n]})),t.shortTermData[n]=e()}))}}],[{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(v["isArray"])(e)?e:e?[e]:[]}},{key:"invoke",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(Object(v["isFunction"])(e))return e.apply(this,n)}},{key:"fillProps",value:function(e,t,n){return Object(v["isArray"])(n)&&(n=n.map((function(e){return[].concat(e)}))),Object.assign(e,D.format(t,n))}}]),e}();function I(e,t){return void 0!==e?e:t()}var L={components:{exportOrder:o["default"]},mixins:[Object(p["default"])({dataAttrs:{postData:{},getPostData:function(){}}})],data:function(){var e=new A({isTitle:!1,flatMap:[{path:"skuQuantityDetailList",emptyPath:"current",fillProps:{assign:function(e,t){Object.assign(t,e),delete t.id,delete t.skuQuantityDetailList}}}],spanProps:["selection","extCode","purchaseQuantity"]});return this.tabOption=e.tabOption,{list:l["list"],tableOption:l["tableOption"],data:[]}},computed:{skuData:function(){return this.tabOption.handleTableData(Object(v["map"])(this.selectionData,"$parent"))}},methods:{searchChange:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getPostData(),t.next=3,new Promise((function(e){return setTimeout(e)}));case 3:if(e.postData.accessToken){t.next=6;break}return e.$message.warning("未填写授权码"),t.abrupt("return");case 6:return t.next=8,awaitResolveDetail(s.orderListByToken(e.postData));case 8:if(n=t.sent,null!==n&&void 0!==n&&n.subOrderForSupplierList){t.next=11;break}return t.abrupt("return");case 11:n.subOrderForSupplierList.forEach((function(e,t){var n;e.id=t+1,null===(n=e.skuQuantityDetailList)||void 0===n||n.forEach((function(e,n){e.id="".concat(t+1,"_").concat(n+1)}))})),e.data=n.subOrderForSupplierList;case 13:case"end":return t.stop()}}),t)})))()}}},_=L,E=n("2877"),F=Object(E["a"])(_,a,r,!1,null,null,null);t["default"]=F.exports}}]);