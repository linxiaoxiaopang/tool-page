(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31e657f3","chunk-2d85c4be","chunk-2d0d0081"],{"0d66":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("pageContainer",[r("baseTable",e._b({staticClass:"tabs-active-border--primary",attrs:{list:e.list,data:e.filterData,spanMethod:e.spanMethod},scopedSlots:e._u([{key:"createTimeSearchForm",fn:function(){return[r("dateTimePicker",{on:{change:e.searchChange},model:{value:e.search.createTime,callback:function(t){e.$set(e.search,"createTime",t)},expression:"search.createTime"}})]},proxy:!0}])},"baseTable",e.$attrs,!1))],1)},n=[],c=r("3835"),i=r("1da1"),o=(r("ac1f"),r("841c"),r("96cf"),r("405f")),u=r("8115"),s=r("b217"),l=r("0a02"),p=r("65f2"),d=r("7bdb"),b=r("2ba3"),f=r("6f23"),h={mixins:[Object(o["default"])(),Object(u["default"])({dataAttrs:{searchForm:{},tableColumn:[],curTabItem:{}}}),Object(s["default"])()],components:{dateTimePicker:l["default"]},data:function(){var e=Object(f["a"])(Date.now(),"yyyy-MM-dd");return{search:{createTime:[e,e]},list:Object(p["getList"])([],"searchExcel")}},watch:{currentValue:{handler:function(){var e=this;setTimeout((function(){e.updateDataAndOption()}),50)},immediate:!0}},methods:{updateDataAndOption:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:e.updateListByData(e.data);case 3:case"end":return t.stop()}}),t)})))()},searchChange:function(){this.updateDataAndOption()},getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=$GET(e.search,"createTime",[]),!Object(b["e"])(r)){t.next=4;break}return e.$message.error("请选择时间区间，再进行此操作"),t.abrupt("return");case 4:return a=Object(c["a"])(r,2),n=a[0],i=a[1],t.next=7,awaitResolveDetailLoading(d["a"].list({type:e.currentValue,createEndTime:"".concat(i," 23:59:59"),createStartTime:"".concat(n," 00:00:00"),orderItems:[{asc:!1,column:"create_time"}],page:{pageIndex:1,pageSize:0}}));case 7:if(o=t.sent,e.data=[],o){t.next=11;break}return t.abrupt("return");case 11:e.data=Object(p["getFormatPrice"])(o);case 12:case"end":return t.stop()}}),t)})))()},updateListByData:function(e){this.list=Object(p["getList"])(e,"searchExcel")}}},m=h,g=r("2877"),v=Object(g["a"])(m,a,n,!1,null,"01e919ce",null);t["default"]=v.exports},"65f2":function(e,t,r){"use strict";r.r(t),r.d(t,"SORT_SHIPPING_METHOD_ASC",(function(){return c})),r.d(t,"SORT_ALL_ASC",(function(){return i})),r.d(t,"TYPE_BIG_GOOD",(function(){return o})),r.d(t,"TYPE_SMALL_GOOD",(function(){return u})),r.d(t,"getList",(function(){return s})),r.d(t,"createOption",(function(){return l})),r.d(t,"getSelectSearchColumn",(function(){return p})),r.d(t,"getFormatPrice",(function(){return d}));r("ac1f"),r("00b4"),r("d81d"),r("4de4"),r("d3b7"),r("841c"),r("1276"),r("25f0"),r("a9e3");var a=r("2ef0"),n=r("e26f"),c="1",i="2",o="1",u="2";function s(e,t){return{column:[{label:"大货",value:o,option:l(e,t)},{label:"小货",value:u,option:l(e,t)}]}}function l(e,t){e=e||[];var r={searchExcel:{option:{border:!0,menu:!1,isOnePage:!1,page:!1,index:!0,column:[{label:"导入时间",prop:"createTime",search:!0,$sort:8},{label:"排序方式",prop:"sort",type:"select",searchValue:c,dicData:[{label:"出货方式-价格递增",value:c},{label:"全部-价格递增",value:i}],search:!0,hide:!0},{label:"出货方式",prop:"deliveryShipping",type:"select",search:!0},{label:"国家",prop:"countryCnName",type:"select",search:!0},{label:"渠道",prop:"expressShippingMethod",type:"select",search:!0},{label:"货物属性",prop:"cargoAttributes",type:"select",search:!0},{label:"重量",prop:"weight",type:"select",search:!0,formatter:function(e){var t=e.weight,r="".concat(t);return t<21&&(r="".concat(r,'<div class="text-primary mr10">特殊</div>')),r}},{label:"价格/kg",prop:"price",search:!0,type:"select"},{label:"挂号费",prop:"registrationFee",formatter:function(e){return e.registrationFee||0}},{label:"备注",prop:"remark"}]}},exportExcel:{option:{border:!0,menu:!1,isOnePage:!1,page:!1,index:!0,column:[{label:"排序方式",prop:"sort",type:"select",searchValue:c,dicData:[{label:"出货方式-价格递增",value:c},{label:"全部-价格递增",value:i}],search:!0,hide:!0},{label:"出货方式",prop:"deliveryShipping",search:!0,rules:[{required:!0}]},{label:"国家",prop:"countryCnName",search:!0,rules:[{required:!0}]},{label:"货物属性",prop:"cargoAttributes",search:!0},{label:"渠道",prop:"expressShippingMethod",search:!0,rules:[{required:!0}]},{label:"重量",prop:"weight",search:!0,rules:[{required:!0}],formatter:function(e){var t=e.weight,r="".concat(t);return t<21&&(r="".concat(r,'<div class="text-primary mr10">特殊</div>')),r}},{label:"价格/kg",prop:"price",rules:[{required:!0},{validator:function(e,t,r,a){var c=n["b"].money.pattern.test(a.formatPrice);c?r():r(n["b"].money.message)}}]},{label:"挂号费",prop:"registrationFee",formatter:function(e){return e.registrationFee||0}},{label:"备注",prop:"remark"}]}}},o=(r[t]||r.exportExcel).option,u=p(o.column);return u.map((function(t){var r=t.prop,n=Object(a["uniq"])(Object(a["map"])(e,r)).filter(Boolean);t.multiple=!0,t.filterable=!0,t.dicData=n.map((function(e){return{value:e,label:e}}))})),o}function p(e){return e.filter((function(e){return e.search&&"select"==e.type&&"sort"!==e.prop}))}function d(e){return e=e||[],e.map((function(e){var t=e.price.toString().split(/[\s,，'‘"“、]+/)[0];return t==Number(t)?e.formatPrice=Number(t):e.formatPrice=e.price,e}))}},"7bdb":function(e,t,r){"use strict";var a=r("028f"),n={create:"/channelPricesService/channelPrices/create",list:"/channelPricesService/channelPrices/list",exportShippingMethodPriceComparison:{url:"/channelPricesService/exportShippingMethodPriceComparison",responseType:"blob"}};t["a"]=Object(a["c"])(n)},b217:function(e,t,r){"use strict";r.r(t);var a=r("15fd"),n=r("ade3"),c=r("2909"),i=(r("c740"),r("99af"),r("d81d"),r("07ac"),r("d3b7"),r("b64b"),r("4de4"),r("ac1f"),r("00b4"),r("4d63"),r("c607"),r("2c3e"),r("25f0"),r("4e82"),r("65f2")),o=r("2ba3"),u=r("6bd7"),s=r("ed08"),l=r("2ef0"),p=["sort","createTime"];function d(e,t){var r=[];if(!t)return e;if(t==i["SORT_SHIPPING_METHOD_ASC"]){var a=[],n=Object(l["groupBy"])(e,(function(e){var t=e.deliveryShipping,r=a.findIndex((function(e){return e===t}));return r<0&&(a.push(t),r=a.length-1),"".concat(r,"_").concat(t)}));return Object.values(n).map((function(e){var t=Object(l["orderBy"])(e,["formatPrice","deliveryShipping","countryCnName"]);r.push.apply(r,Object(c["a"])(t))})),r}return Object(l["orderBy"])(e,["formatPrice","deliveryShipping","countryCnName"])}function b(e,t){return Object.keys(t).reduce((function(e,r){return e=e.filter((function(e){var a=t[r];return!!Object(o["e"])(a)||(a=Object(l["isArray"])(a)?a:[a],a.some((function(t){return new RegExp(Object(u["a"])(t),"i").test(e[r])})))})),e}),e)}t["default"]=function(){return{data:function(){var e;return{dataObj:(e={},Object(n["a"])(e,i["TYPE_BIG_GOOD"],[]),Object(n["a"])(e,i["TYPE_SMALL_GOOD"],[]),e)}},computed:{currentValue:function(e){var t=e.curTabItem;return t.value||i["TYPE_SMALL_GOOD"]},data:{get:function(e){var t=e.dataObj,r=e.currentValue;return t[r]},set:function(e){this.dataObj[this.currentValue]=e}},filterData:function(e){var t=e.searchForm,r=e.data,n=t.sort,c=(t.createTime,Object(a["a"])(t,p));return r=d(r,n),b(r,c)}},methods:{spanMethod:function(e){return Object(s["g"])(e,this.filterData,{props:[[{deliveryShipping:["deliveryShipping"]},{countryCnName:["countryCnName"]},{expressShippingMethod:["expressShippingMethod"]},{cargoAttributes:["cargoAttributes"]}]]})}}}}}}]);