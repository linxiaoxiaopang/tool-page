(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-096a9075","chunk-ba67ce76","chunk-754da260","chunk-2d225a25"],{"24cf":function(e,t,r){"use strict";r.r(t),r.d(t,"createFormByDeepMapData",(function(){return l})),r.d(t,"defineDatabaseType",(function(){return v})),r.d(t,"getMockjsSyntax",(function(){return y})),r.d(t,"createForeignKeyList",(function(){return h})),r.d(t,"fillForeignKeyList",(function(){return g})),r.d(t,"createFormColumns",(function(){return O})),r.d(t,"formatMockData",(function(){return k})),r.d(t,"deepTraverse",(function(){return w}));var a=r("53ca"),n=r("2909"),o=(r("b64b"),r("a4d3"),r("e01a"),r("e9c4"),r("d81d"),r("ac1f"),r("1276"),r("d3b7"),r("7db0"),r("466d"),r("99af"),r("2ca0"),r("fb6a"),r("25f0"),r("2ef0")),c=r("e4dd"),i=r("2ba3"),u=r("ed08"),s=(r("e4b3"),"1-10");function l(e,t){var r=null;if("object"===e.type){r={};for(var a=Object.keys(e.properties),n=0,o=a;n<o.length;n++){var c=o[n],i=e.properties[c];r[c]=l(i,c)}v(r,"object")}else if("array"===e.type){e.items.properties||(e.items.description=e.description,e.items.notObjectItem=!0);var u=l(e.items,t);v(u,"array"),e.items.properties||(v(u,!0,"notObjectArray"),e.items.description=e.description),v(u,s,"arrayCount"),r=u}else r=f(e,t);return r}var p={integer:function(e,t){var r=p.default(e,t);r.mValue="@integer(1, 100)";var a=b(e.description);if(_(e))r.mKey="".concat(t,"|+1"),r.mValue="@integer(1, 200)",r.isForeignKey=!0;else if(a&&"int32"===e.format){var n=JSON.stringify(a);r.mValue="@pick(".concat(n,")")}return r},number:function(e,t){var r=p.default(e,t),a=e.format,n={float:"@float(1, 100, 2, 2)",double:"@float(1, 100, 8, 8)"};return r.mValue=n[a]||n.float,r},string:function(e,t){var r=p.default(e,t);return m(t,"time")?r.mValue="@datetime":m(t,"date")?r.mValue="@date":m(t,["path","url"])?r.mValue="@ossImage":m(t,"color")?r.mValue="@color":m(t,"email")?r.mValue="@email":m(t,"name")?r.mValue="@name":r.mValue="@string(10)",r},boolean:function(e,t){var r=p.default(e,t);return r.mValue=1,r},array:function(e,t){var r=p.default(e,t);return r.mValue="".concat(t,"|10-20"),r},default:function(e,t){v(e,e.type);var r={key:t,mKey:t,mValue:e[t]};return r}};function f(e,t){var r=e.type;e.key=t;var a=p[r]||p.default;return Object(o["merge"])(e,a(e,t))}function d(e){return e?e.split(/(?=[A-Z])/).map(o["toLower"]):[]}function m(e,t){Object(o["isArray"])(t)||(t=[t]);var r=d(e);return r.some((function(e){return t.find((function(t){return t==e}))}))}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",r={number:function(){return e?e.match(/\d+/g):null}};return r[t]()||r.number()}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"__databaseType__";return Object.defineProperty(e,r,{value:t,writable:!0,configurable:!0,enumerable:!1})}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("object"===e.__databaseType__||"array"===e.__databaseType__&&!e.notObjectArray){for(var a={},n=Object.keys(e),o=0,c=n;o<c.length;o++){var i=c[o],u=e[i],s=u.mKey||i;try{u.mValue.indexOf("@/")>=0&&(s=i)}catch(f){}var l=r?"".concat(r,".").concat(i):i;if("array"===u.__databaseType__){var p=u.arrayCount||"1-10";s="".concat(s,"|").concat(p),a[s]=[y(u,t,l)]}else a[s]=y(u,t,l)}return a}return e.isForeignKey&&!e.mValue.startsWith("@")&&t.push({from:e.mValue,to:r}),e.mValue}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=[];if("object"===e.__databaseType__||"array"===e.__databaseType__&&e.notObjectArray)for(var a=Object.keys(e),o=0,c=a;o<c.length;o++){var i=c[o],u=e[i],s="".concat(t).concat(i,".");r.push.apply(r,Object(n["a"])(h(u,s)))}else if(_(e)){var l="".concat(t);l=l.slice(0,-1),r.push({label:l,value:l})}return r}function g(e,t){function r(t){var r=t.split("."),a=r.pop(),n=Object(u["m"])(e,r);return{data:n,lastProp:a}}t.map((function(e){var t=e.from,a=e.to,n=r(t),o=n.data,c=n.lastProp,u=r(a),s=u.data,l=u.lastProp;Object(i["e"])(o)||Object(i["e"])(s)||s.map((function(e,t){try{var r=o[t];1==o.length&&(r=o[0]),e[l]=r[c]}catch(a){e[l]=a.toString()}}))}))}function _(e){try{return e.description&&e.description.indexOf("主键")>=0||m(e.key,"id")}catch(t){return!1}}var j=[];function O(e,t){var r=null;if(t||(j.length=0,j.push({label:"@integer(1, 200)",value:"@integer(1, 200)"}),j.push.apply(j,Object(n["a"])(h(e)))),"object"===e.__databaseType__||"array"===e.__databaseType__)if(e.notObjectArray)r={prop:t,span:6,slot:"notObjectArray",label:e.mKey,databaseType:e.__databaseType__};else{r={prop:t,label:t,span:24,labelWidth:"auto",slot:"form",column:[],databaseType:e.__databaseType__};for(var a=Object.keys(e),o=0,i=a;o<i.length;o++){var u=i[o],s=e[u];r.column.push(O(s,u))}}else{if("array"===e.__databaseType__)return O(e,t);r={prop:t,span:6,label:e.mKey},"string"===e.__databaseType__&&(r.type="select",r.filterable=!0,r.dicData=c["dicOfString"]),_(e)&&"integer"===e.__databaseType__&&(r.type="select",r.filterable=!0,r.dicData=j)}return r}function k(e){function t(e){if(r(e)){var t=Object(o["uniq"])(e);e.length=0,e.push.apply(e,Object(n["a"])(t))}}function r(e){return!!Object(o["isArray"])(e)&&Object(o["every"])(e,x)}w(e,(function(e,r,a){t(a)}))}function w(e,t){Object(o["isArray"])(e)?Object(o["forEach"])(e,(function(r,a){t(r,a,e),w(r,t)})):Object(o["isObject"])(e)?Object(o["forEach"])(e,(function(r,a){t(r,a,e),w(r,t)})):t(e)}function x(e){return null===e||"object"!==Object(a["a"])(e)&&"function"!==typeof e}},"2ca0":function(e,t,r){"use strict";var a=r("23e7"),n=r("e330"),o=r("06cf").f,c=r("50c4"),i=r("577e"),u=r("5a34"),s=r("1d80"),l=r("ab13"),p=r("c430"),f=n("".startsWith),d=n("".slice),m=Math.min,b=l("startsWith"),v=!p&&!b&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!v&&!b},{startsWith:function(e){var t=i(s(this));u(e);var r=c(m(arguments.length>1?arguments[1]:void 0,t.length)),a=i(e);return f?f(t,a,r):d(t,r,r+a.length)===a}})},"395a":function(e,t,r){"use strict";r("b97c8")},"448c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("baseForm",e._g(e._b({staticClass:"base-form-container",attrs:{option:e.option},scopedSlots:e._u([e._l(e.option.column,(function(t){return{key:""+t.prop,fn:function(a){a.form;return["form"===t.slot?r("div",["array"===t.databaseType?r("avue-crud-input",{staticClass:"mb15",model:{value:e.form[t.prop].arrayCount,callback:function(r){e.$set(e.form[t.prop],"arrayCount",r)},expression:"form[item.prop].arrayCount"}}):e._e(),r("deepForm",e._g(e._b({attrs:{form:e.form[t.prop],option:t}},"deepForm",e.$attrs,!1),e.$listeners))],1):"notObjectArray"===t.slot?r("div",[r("avue-crud-input",{staticClass:"mb15",model:{value:e.form[t.prop].mValue,callback:function(r){e.$set(e.form[t.prop],"mValue",r)},expression:"form[item.prop].mValue"}})],1):r(e.contentComponent(t),e._b({tag:"component",attrs:{dic:t.dicData},model:{value:e.form[t.prop].mValue,callback:function(r){e.$set(e.form[t.prop],"mValue",r)},expression:"form[item.prop].mValue"}},"component",t,!1))]}}}))],null,!0),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},"baseForm",e.$attrs,!1),e.$listeners))},n=[],o=(r("ac1f"),r("5319"),r("6489")),c=r("2ef0"),i={name:"deepForm",props:{form:{type:Object,required:!0},option:{type:Object,required:!0}},computed:{contentComponent:function(){var e=this;return function(t){return e.getComponent(t.type)}}},methods:{getComponent:function(e){return Object(c["upperFirst"])(Object(o["h"])(e)).replace(/^(avue)?/i,"avue")}}},u=i,s=(r("395a"),r("2877")),l=Object(s["a"])(u,a,n,!1,null,"3331ab7c",null);t["default"]=l.exports},6297:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"app-container"},[r("div",{staticClass:"input-wrapper flex-middle mb20"},[r("avue-crud-input",{staticStyle:{width:"400px"},attrs:{placeholder:"输入yApi的导航栏url"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),r("el-button",{staticClass:"ml10",on:{click:e.getYApiData}},[e._v("获取yApi数据")])],1),r("el-button",{staticClass:"mb20",on:{click:e.createMockData}},[e._v(" 生成模拟数据 ")]),r("avue-crud-input",{staticClass:"mb20",attrs:{type:"textarea"},model:{value:e.mockDescribeJson,callback:function(t){e.mockDescribeJson=t},expression:"mockDescribeJson"}}),r("deepForm",{attrs:{form:e.form,option:e.optionList}})],1)},n=[],o=r("3835"),c=r("1da1"),i=(r("96cf"),r("ac1f"),r("1276"),r("99af"),r("e9c4"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("5c96")),u=r("448c"),s=r("6f23"),l=r("24cf"),p=r("bc3a"),f=r.n(p),d=r("96eb"),m=r.n(d),b=40011;window.Mock=m.a;var v={components:{deepForm:u["default"]},data:function(){return{form:{},url:"http://192.168.10.198:3000/project/41/interface/api/10483",mockDescribeJson:"{}",optionList:{}}},computed:{mockDescribeData:function(e){var t=e.mockDescribeJson;return JSON.parse(t)},id:function(e){var t=e.url;return t?t.split("/").pop():""}},watch:{mockDescribeJson:function(){this.init()}},methods:{init:function(){this.form=Object(l["createFormByDeepMapData"])(this.mockDescribeData),this.optionList=Object(l["createFormColumns"])(this.form)},createMockData:function(){var e=[],t=Object(l["getMockjsSyntax"])(this.form,e),r=m.a.mock(t);Object(l["formatMockData"])(r),Object(l["fillForeignKeyList"])(r,e);var a="yApi_".concat(this.id,"-").concat(Object(s["a"])(Date.now(),"yyyyMMdd"),".json");this.downloadJSON(r,a)},downloadJSON:function(e,t){var r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)},validUrl:function(){if(!this.url)return this.$message.error("url不能为空"),!1;try{new URL(this.url)}catch(e){return this.$message.error("请输入合理的路径"),!1}return!0},getYApiData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n,c,i,u,s,l,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.validUrl(),r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,awaitLoading(e.getBody());case 5:if(a=t.sent,n=Object(o["a"])(a,2),c=n[0],i=n[1],!c||i!=b){t.next=26;break}return t.next=12,e.login();case 12:if(u=t.sent,s=Object(o["a"])(u,1),l=s[0],!l){t.next=17;break}return t.abrupt("return");case 17:return t.next=20,awaitLoading(e.getBody());case 20:if(p=t.sent,f=Object(o["a"])(p,2),c=f[0],i=f[1],!c){t.next=26;break}return t.abrupt("return");case 26:e.mockDescribeJson=i.res_body||"{}";case 27:case"end":return t.stop()}}),t)})))()},getBody:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f()({method:"get",url:"/api/interface/get?id=".concat(e.id)});case 2:return r=t.sent,t.abrupt("return",e.handleAxiosData(r));case 4:case"end":return t.stop()}}),t)})))()},handleAxiosData:function(e){var t,r;return 200!==e.status||0!==(null===(t=e.data)||void 0===t?void 0:t.errcode)?(Object(i["Notification"])({type:"error",title:"提示",message:"请求异常"}),[!0,null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.errcode]):[!1,e.data.data]},login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f()({method:"POST",url:"/api/user/login",data:{email:"541953126@qq.com",password:"Test123456"}});case 2:return r=t.sent,t.abrupt("return",e.handleAxiosData(r));case 4:case"end":return t.stop()}}),t)})))()}}},y=v,h=r("2877"),g=Object(h["a"])(y,a,n,!1,null,null,null);t["default"]=g.exports},b97c8:function(e,t,r){},e4dd:function(e,t,r){"use strict";r.r(t),r.d(t,"dicOfString",(function(){return a}));var a=[{label:"@date",value:"@date"},{label:"@datetime",value:"@datetime"},{label:"@image",value:"@ossImage"},{label:"@email",value:"@email"},{label:"@color",value:"@color"},{label:"@email",value:"@email"},{label:"@url",value:"@url"},{label:"@name",value:"@name"},{label:"@string(10)",value:"@string(10)"}]}}]);